name: branch-name-check

on:
  pull_request:

jobs:
  validate-branch-name:
    runs-on: ubuntu-latest

    steps:
      - name: Validate branch name
        run: |
          branch="${GITHUB_HEAD_REF:-${GITHUB_REF_NAME}}"
          echo "Validating branch name: ${branch}"
          if [[ ! "${branch}" =~ ^(hotfix|feature|bug|codex)/ ]]; then
            echo "Invalid branch name: ${branch}"
            echo "Branch names must start with hotfix/, feature/, bug/, or codex/."
            exit 1
          fi
